<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta name="author, viewport" content="Peter G. Morales, width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="This is the 'Apply Internal Javascript' exercise for the 'What is JavaScript?' 
        Guide of the 'Javascript First Steps' Module">
    <title>Apply JavaScript example</title>
    <script>
        // In this exercise, you're using DOM manipulation to add a paragraph of text by pressing a button

        // The addEventListener() method of the EventTarget interface sets up a function that will be called whenever the specified event is delivered
        // to the target. Common targets are Element, or its children, Document, and Window, but the target may be any object that supports events
        // (such as XMLHttpRequest). https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener

        // Within the addEventListener method, passed in as the first argument value, is the DOMContentLoaded event, which fires when the initial HTML
        // document has been completely loaded and parsed, without waiting for stylesheets, images, and subframes to finish loading.
        // https://developer.mozilla.org/en-US/docs/Web/API/Document/DOMContentLoaded_event

        // The second argument value is an anonymous function, because it doesn't have a name.
        // An alternative way of writing anonymous functions is called the "arrow function".
        // An arrow function uses `() =>` instead of `function ()`
        // https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/JavaScript_basics#events

        document.addEventListener('DOMContentLoaded', () => {

            // console logging to see the DOM is loaded
            console.log('DOM fully loaded and parsed');

            // Declaring a function called "createParagraph", using the function keyword
            function createParagraph() {

                // 4 Steps of DOM manupilation
                // 1. Select the parent element
                // 2. Create a new element with document.createElement('element type')
                // 3. Fill with 'stuff' (text) .innerText/.textContent
                // 4. Append child element to parent element

                // Declaring a variable named "para", using the "const" keyword, and assigning it the value of the createElement method (instance method)
                // of the document constructor
                // https://developer.mozilla.org/en-US/docs/Web/API/Document/createElement
                // Passing in as an argument value to the createElement method is 'p' for paragraph tag/paragraph element
                const para = document.createElement('p');

                // Using the dot notation (property accessors), chaining the textContent property of the Node interface to the para variable,
                // and assigning the value of 'You clicked the button!'
                // https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent
                para.textContent = 'You clicked the button!';

                // declaring the appendChild() method of the Node interface and passing in, as an argument value, the `para` variable
                document.body.appendChild(para);

                // Console.log the HTML `para` element 
                console.log(para);
            }

            // Declaring a variable named "buttons" using the const keyword, and assigning it the value of the Document method querySelectorAll(),
            // with the HTML button element passed in as an argument value
            // https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll
            const buttons = document.querySelectorAll('button');

            // for...of statement which executes a loop that operates on a sequence of values sourced from an iterable object
            // In this case, the variable (a container that stores values) is `const button`, which is the HTML button element; the iterable object is
            // `buttons`.
            for (const button of buttons) {

                // The statement takes the HTML `button` Event Target, and, using dot notation, adds the addEventListener() method of the EventTarget
                // interface. Passed in as the first argument is the 'click' type, which represents the event type to listen for; passed in as the
                // second argument value is the `createParagraph` function.
                button.addEventListener('click', createParagraph);
            }
        });
    </script>
</head>

<body>
    <button>Click me</button>
</body>

<!-- https://developer.mozilla.org/en-US/docs/Learn/JavaScript/First_steps/What_is_JavaScript#internal_javascript -->

</html>